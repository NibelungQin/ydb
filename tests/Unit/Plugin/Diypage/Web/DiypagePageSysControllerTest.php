<?php


namespace Ydb\Test\Unit\Plugin\Diypage\Web;


use Ydb\Test\Unit\Plugin\BasePluginWebUnitTest;

class DiypagePageSysControllerTest extends BasePluginWebUnitTest
{

    public function testPageSys(): void
    {
        $_GET['r'] = 'diypage.page.sys';
        $_GET['keyword'] = 'hello';
        $_GET['type'] = 1;
        $this->route(function () {
            $this->diypages[1]['type'] = '1';
            $this->diypages[1]['name'] = 'hello_kity';
        });
    }


    public function testGetPageSysAdd(): void
    {
        $_GET['r'] = 'diypage.page.sys.add';
        $_GET['type'] = 2;
        $this->route();
    }

    public function testPostPageSysAdd(): void
    {
        $_GET['r'] = 'diypage.page.sys.add';
        $_POST['id'] = 0;
        $_POST['tid'] = 2;
        $_POST['type'] = 2;
        $_POST['jsonData'] = '{"id":"0","data":{"page":{"type":2,"title":"请输入页面标题","name":"未命名页面","desc":"","icon":"","keyword":"","background":"#f3f3f3","diymenu":"-1","diylayer":"0","diygotop":"0","followbar":"0","visit":"0","visitlevel":{"member":null,"commission":null},"novisit":{"title":null,"link":null}},"items":{"M1584777130073":{"istop":1,"max":1,"only":"toptab","params":{"leftnav":"1","rightnav":"1","rightnavclick":"0","leftnavicon":"icon-shop","rightnavicon":"icon-cart","searchstyle":"round","placeholder":"输入关键字进行搜索"},"style":{"background":"#000000","opacity":0.8,"opacityinput":0.8,"leftnavcolor":"#ffffff","rightnavcolor":"#ffffff","searchbackground":"#ffffff","searchtextcolor":"#666666"},"id":"fixedsearch"},"M1584777130422":{"params":{"iconurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/hotdot.png","noticedata":"0","speed":"4","noticenum":"5"},"style":{"background":"#ffffff","iconcolor":"#fd5454","color":"#666666","bordercolor":"#e2e2e2"},"data":{"C1584777130422":{"title":"这里是第一条自定义公告的标题","linkurl":""},"C1584777130423":{"title":"这里是第二条自定义公告的标题","linkurl":""}},"id":"notice"},"M1584777131017":{"params":{"title":"","icon":""},"style":{"background":"#ffffff","color":"#666666","textalign":"left","fontsize":"12","paddingtop":"5","paddingleft":"5"},"id":"title"},"M1584777131423":{"params":{},"style":{"height":"2","background":"#ffffff","border":"#000000","padding":"10","linestyle":"solid"},"id":"line"},"M1584777132875":{"params":{"row":"4","showtype":0,"pagenum":"2"},"style":{"paddingtop":"0","paddingleft":"0","showdot":0,"showbtn":0},"data":{"C1584777132875":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/cube-1.jpg","linkurl":""},"C1584777132876":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/cube-2.jpg","linkurl":""},"C1584777132877":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/cube-3.jpg","linkurl":""},"C1584777132878":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/cube-4.jpg","linkurl":""}},"id":"picturew"},"M1584777133347":{"params":{},"style":{"dotstyle":"round","dotalign":"left","background":"#ffffff","leftright":"5","bottom":"5","opacity":"0.8"},"data":{"C1584777133347":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/banner-1.jpg","linkurl":""},"C1584777133348":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/banner-2.jpg","linkurl":""}},"id":"banner"},"M1584777133866":{"params":{"rownum":"4","border":"1","bordertop":"1","borderbottom":"1"},"style":{"background":"#ffffff","bordercolor":"#ffffff","textcolor":"#000000","iconcolor":"#666666","dotcolor":"#ff0011"},"data":{"C1584777133866":{"iconclass":"icon-daifukuan","text":"待付款","linkurl":"","dotnum":0},"C1584777133867":{"iconclass":"icon-fahuo","text":"待发货","linkurl":"","dotnum":0},"C1584777133868":{"iconclass":"icon-daishouhuo","text":"待收货","linkurl":"","dotnum":0},"C1584777133869":{"iconclass":"icon-daituikuan","text":"退换货","linkurl":"","dotnum":0}},"id":"icongroup"},"M1584777134313":{"params":{"title":"未定义音频信息","subtitle":"副标题","playerstyle":0,"autoplay":0,"loopplay":0,"pausestop":0,"headalign":"left","headtype":"","headurl":""},"style":{"background":"#f1f1f1","bordercolor":"#ededed","textcolor":"#333333","subtitlecolor":"#666666","timecolor":"#666666","paddingtop":"20","paddingleft":"20","width":"80"},"id":"audio"},"M1584777134876":{"params":{"couponstyle":"3"},"style":{"background":"#ffffff","margintop":"10","marginleft":"5"},"data":{"C1584777134876":{"name":"优惠券名称","desc":"满100元可用","price":"89.90","couponid":"","background":"#fd5454","bordercolor":"#fd5454","textcolor":"#ffffff","couponcolor":"#55b5ff"},"C1584777134877":{"name":"优惠券名称","desc":"满100元可用","price":"89.90","couponid":"","background":"#ff9140","bordercolor":"#ff9140","textcolor":"#ffffff","couponcolor":"#ff5555"},"C1584777134878":{"name":"优惠券名称","desc":"满100元可用","price":"89.90","couponid":"","background":"#54b5fd","bordercolor":"#54b5fd","textcolor":"#ffffff","couponcolor":"#ff913f"}},"id":"coupon"},"M1584777135350":{"params":{},"style":{"margintop":"10","background":"#ffffff"},"data":{"C1584777135350":{"text":"我的积分","iconclass":"","textcolor":"#666666","iconcolor":"#666666","linkurl":""},"C1584777135351":{"text":"兑换记录","iconclass":"","textcolor":"#666666","iconcolor":"#666666","linkurl":""}},"id":"menu2"},"M1584777136147":{"params":{},"style":{"paddingtop":"0","paddingleft":"0"},"data":{"C1584777136147":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/banner-1.jpg","linkurl":""}},"id":"video"},"M1584777136609":{"style":{"background":"#ffffff","color":"#666666","activebackground":"#ffffff","activecolor":"#ef4f4f","scrollnum":5,"showtype":1},"params":{"datatype":null},"data":{"C1584777136609":{"text":"选项","linkurl":""},"C1584777136610":{"text":"选项","linkurl":""},"C1584777136611":{"text":"选项","linkurl":""},"C1584777136612":{"text":"选项","linkurl":""},"C1584777136613":{"text":"选项","linkurl":""}},"id":"tabbar"},"M1584777137204":{"params":{"placeholder":"请输入关键字进行搜索"},"style":{"inputbackground":"#ffffff","background":"#f1f1f2","iconcolor":"#b4b4b4","color":"#999999","paddingtop":"10","paddingleft":"10","textalign":"left","searchstyle":""},"id":"search"},"M1584777138183":{"params":{"iconurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/hotdot.png","noticedata":"0","speed":"4","noticenum":"5"},"style":{"background":"#ffffff","iconcolor":"#fd5454","color":"#666666","bordercolor":"#e2e2e2"},"data":{"C1584777138183":{"title":"这里是第一条自定义公告的标题","linkurl":""},"C1584777138184":{"title":"这里是第二条自定义公告的标题","linkurl":""}},"id":"notice"},"M1584777138779":{"params":{"goodstype":"0","showtitle":"1","showprice":"1","showtag":"0","goodsdata":"0","cateid":"","catename":"","groupid":"","groupname":"","goodssort":"0","goodsnum":"6","showicon":"1","iconposition":"left top","productprice":"1","showproductprice":"0","showsales":"0","productpricetext":"原价","salestext":"销量","productpriceline":"0","saleout":"0","pagetype":2,"seecommission":0,"cansee":0,"seetitle":""},"style":{"background":"#f3f3f3","liststyle":"block","buystyle":"buybtn-1","goodsicon":"recommand","iconstyle":"triangle","pricecolor":"#ff5555","productpricecolor":"#999999","iconpaddingtop":"0","iconpaddingleft":"0","buybtncolor":"#ff5555","iconzoom":"100","titlecolor":"#000000","tagbackground":"#fe5455","salescolor":"#999999"},"data":{"C1584777138779":{"thumb":"../addons/ewei_shopv2/plugin/diypage/static/images/default/goods-1.jpg","price":"20.00","productprice":"99.00","title":"这里是商品标题","sales":"0","gid":"","bargain":0,"credit":0,"ctype":1},"C1584777138780":{"thumb":"../addons/ewei_shopv2/plugin/diypage/static/images/default/goods-2.jpg","price":"20.00","productprice":"99.00","title":"这里是商品标题","sales":"0","gid":"","bargain":0,"credit":0,"ctype":1},"C1584777138781":{"thumb":"../addons/ewei_shopv2/plugin/diypage/static/images/default/goods-3.jpg","price":"20.00","productprice":"99.00","sales":"0","title":"这里是商品标题","gid":"","bargain":0,"credit":0,"ctype":0},"C1584777138782":{"thumb":"../addons/ewei_shopv2/plugin/diypage/static/images/default/goods-4.jpg","price":"20.00","productprice":"99.00","sales":"0","title":"这里是商品标题","gid":"","bargain":0,"credit":0,"ctype":0}},"id":"goods"},"M1584777139263":{"params":{"merchdata":"0","merchnum":"6","merchsort":"","catename":"","cateid":"","groupname":"","groupid":"","openlocation":"0"},"style":{"background":"#ffffff","titlecolor":"#333333","textcolor":"#666666","rangecolor":"#ff5555","locationcolor":"#ff5555","margintop":"10"},"data":{"C1584777139263":{"name":"商户名称A","desc":"这里是商户A的介绍","thumb":"","merchid":""},"C1584777139264":{"name":"商户名称B","desc":"这里是商户B的介绍","thumb":"","merchid":""},"C1584777139265":{"name":"商户名称C","desc":"这里是商户C的介绍","thumb":"","merchid":""}},"id":"merchgroup"},"M1584777140343":{"params":{},"style":{"height":"20","background":"#ffffff"},"id":"blank"},"M1584777141007":{"params":{"merchdata":"0","merchnum":"6","merchsort":"","catename":"","cateid":"","groupname":"","groupid":"","openlocation":"0"},"style":{"background":"#ffffff","titlecolor":"#333333","textcolor":"#666666","rangecolor":"#ff5555","locationcolor":"#ff5555","margintop":"10"},"data":{"C1584777141007":{"name":"商户名称A","desc":"这里是商户A的介绍","thumb":"","merchid":""},"C1584777141008":{"name":"商户名称B","desc":"这里是商户B的介绍","thumb":"","merchid":""},"C1584777141009":{"name":"商户名称C","desc":"这里是商户C的介绍","thumb":"","merchid":""}},"id":"merchgroup"}}}}';
        $this->post();
        $this->route();
    }

    public function testPageSysEdit(): void
    {
        $_GET['r'] = 'diypage.page.sys.edit';
        $_GET['id'] = 23;
        $_POST['jsonData'] = '{"id":"23","data":{"page":{"type":"2","title":"测试首页标题","name":"测试商城首页","desc":"介绍","icon":"images/3/2020/02/jE157z5U71VKplL1Lw1ohE1ktElPeL.jpg","keyword":"关键字","background":"#f3f3f3","diymenu":"1","diylayer":"1","diygotop":"1","followbar":"1","visit":"0","visitlevel":{"member":"","commission":""},"novisit":{"title":"","link":""},"diyadv":"2","danmu":"1"},"items":{"M1584756927219":{"istop":"1","max":"1","only":"toptab","params":{"leftnav":"1","rightnav":"1","rightnavclick":"0","leftnavicon":"icon-shop","rightnavicon":"icon-cart","searchstyle":"round","placeholder":"输入关键字进行搜索","leftnavlink":"./index.php?i=1&c=entry&m=ewei_shopv2&do=mobile&r=member.recharge","rightnavlink":"./index.php?i=1&c=entry&m=ewei_shopv2&do=mobile&r=creditshop"},"style":{"background":"#000000","opacity":"0.8","opacityinput":"0.8","leftnavcolor":"#ffffff","rightnavcolor":"#ffffff","searchbackground":"#ffffff","searchtextcolor":"#666666"},"id":"fixedsearch"},"M1584756953003":{"params":{"iconurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/hotdot.png","noticedata":"0","speed":"4","noticenum":"5"},"style":{"background":"#ffffff","iconcolor":"#fd5454","color":"#666666","bordercolor":"#e2e2e2"},"data":{"C1584756953003":{"title":"这里是第一条自定义公告的标题","linkurl":""},"C1584756953004":{"title":"这里是第二条自定义公告的标题","linkurl":""}},"id":"notice"},"M1584756922537":{"params":{"placeholder":"请输入关键字进行搜索"},"style":{"inputbackground":"#ffffff","background":"#f1f1f2","iconcolor":"#b4b4b4","color":"#999999","paddingtop":"10","paddingleft":"10","textalign":"left","searchstyle":""},"id":"search"},"M1584756991173":{"params":{"merchdata":"0","merchnum":"6","merchsort":"","catename":"","cateid":"","groupname":"","groupid":"","openlocation":"0"},"style":{"background":"#ffffff","titlecolor":"#333333","textcolor":"#666666","rangecolor":"#ff5555","locationcolor":"#ff5555","margintop":"10"},"data":{"C5799016791":{"name":"pine测试","desc":"123123123","thumb":"images/3/2019/12/qbzDvaBd1vxa1Ja88sCj1akbdV4j4v.jpg","merchid":"8"},"C9088470756":{"name":"一道宝商家","desc":"","thumb":"","merchid":"3"}},"id":"merchgroup"},"M1584757087092":{"max":"1","params":{"iconurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/seckill.png","hideborder":"0","tag":""},"style":{"margintop":"10","background":"#ffffff","titlecolor":"#444444","timecolor":"#444444","timesigncolor":"#444444","timebgcolor":"#ffffff","timebordercolor":"#d9d9d9","morecolor":"#888888","marketpricecolor":"#ef4f4f","productpricecolor":"#999999"},"id":"seckillgroup"},"M1584757095475":{"params":{"modid":"2","modname":"未命名模块"},"id":"diymod"},"M1584757100816":{"style":{"margintop":"10","background":"#ffffff","iconcolor":"#999999","textcolor":"#000000","remarkcolor":"#888888"},"data":{"C1584757100816":{"text":"导航1","linkurl":"www.baidu.com","iconclass":"icon-home","remark":"查看","dotnum":""},"C1584757100817":{"text":"导航2","linkurl":"www.qq.com","iconclass":"icon-home","remark":"查看","dotnum":""}},"id":"listmenu"},"M1584757131564":{"params":{"content":"PHA+5a+M5paH5pysPC9wPg=="},"style":{"background":"#ffffff","padding":"5"},"id":"richtext"},"M1584757146131":{"params":{"title":"","icon":""},"style":{"background":"#ffffff","color":"#666666","textalign":"left","fontsize":"12","paddingtop":"5","paddingleft":"5"},"id":"title"},"M1584757149225":{"style":{"height":"2","background":"#ffffff","border":"#000000","padding":"10","linestyle":"solid"},"id":"line"},"M1584757150958":{"style":{"height":"20","background":"#ffffff"},"id":"blank"},"M1584757152386":{"style":{"navstyle":"","background":"#ffffff","rownum":"4","showtype":"0","pagenum":"8","showdot":"1"},"data":{"C1584757152386":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/icon-1.png","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile","text":"按钮文字1","color":"#666666"},"C1584757152387":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/icon-2.png","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=shop.category","text":"按钮文字2","color":"#666666"},"C1584757152388":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/icon-3.png","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=abonus","text":"按钮文字3","color":"#666666"},"C1584757152389":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/icon-4.png","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=dividend","text":"按钮文字4","color":"#666666"}},"id":"menu"},"M1584757174425":{"style":{"margintop":"10","background":"#ffffff"},"data":{"C1584757174425":{"text":"我的积分","iconclass":"","textcolor":"#666666","iconcolor":"#666666","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=exchange&codetype=1&all=1"},"C1584757174426":{"text":"兑换记录","iconclass":"","textcolor":"#666666","iconcolor":"#666666","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=goods&issendfree=1"}},"id":"menu2"},"M1584757185844":{"style":{"paddingtop":"0","paddingleft":"0"},"data":{"C1584757185844":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/banner-1.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=dividend"},"C1584757185845":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/banner-2.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=member.fullback"}},"id":"picture"},"M1584757196825":{"style":{"dotstyle":"round","dotalign":"left","background":"#ffffff","leftright":"5","bottom":"5","opacity":"0.8"},"data":{"C1584757196825":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/banner-1.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=goods&istime=1"},"C1584757196826":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/banner-2.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=goods&issendfree=1"}},"id":"banner"},"M1584757205329":{"params":{"row":"4","showtype":"0","pagenum":"2"},"style":{"paddingtop":"0","paddingleft":"0","showdot":"0","showbtn":"0"},"data":{"C1584757205329":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/cube-1.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=cycelbuy.order.list"},"C1584757205330":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/cube-2.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=cycelbuy.order.list"}},"id":"picturew"},"M1584757219068":{"params":{"hidetext":"0","showtype":"0","rownum":"3","showbtn":"0"},"style":{"background":"#ffffff","paddingtop":"3","paddingleft":"5","titlealign":"left","textalign":"left","titlecolor":"#ffffff","textcolor":"#666666"},"data":{"C1584757219068":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/goods-1.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=abonus","title":"这里是上标题","text":"这里是下标题"},"C1584757219069":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/goods-2.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=member.history","title":"这里是上标题","text":"这里是下标题"},"C1584757219070":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/goods-4.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=member.recharge","title":"这里是上标题","text":"这里是下标题"}},"id":"pictures"},"M1584757230036":{"params":{"rownum":"4","border":"1","bordertop":"1","borderbottom":"1"},"style":{"background":"#ffffff","bordercolor":"#ffffff","textcolor":"#000000","iconcolor":"#666666","dotcolor":"#ff0011"},"data":{"C1584757230036":{"iconclass":"icon-daifukuan","text":"待付款","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=abonus","dotnum":"0"},"C1584757230037":{"iconclass":"icon-fahuo","text":"待发货","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=exchange&codetype=1&all=1","dotnum":"0"},"C1584757230038":{"iconclass":"icon-daishouhuo","text":"待收货","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=exchange&codetype=1&all=1","dotnum":"0"},"C1584757230039":{"iconclass":"icon-daituikuan","text":"退换货","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=member.cart","dotnum":"0"}},"id":"icongroup"},"M1584757248418":{"params":{"title":"未定义音频信息","subtitle":"副标题","playerstyle":"0","autoplay":"0","loopplay":"0","pausestop":"0","headalign":"left","headtype":"","headurl":""},"style":{"background":"#f1f1f1","bordercolor":"#ededed","textcolor":"#333333","subtitlecolor":"#666666","timecolor":"#666666","paddingtop":"20","paddingleft":"20","width":"80"},"id":"audio"},"M1584757257856":{"params":{"couponstyle":"3"},"style":{"background":"#ffffff","margintop":"10","marginleft":"5"},"data":{"C1584757257856":{"name":"新人券立减3元","desc":"无门槛使用","price":"￥3","couponid":"16","background":"#fd5454","bordercolor":"#fd5454","textcolor":"#ffffff","couponcolor":"#55b5ff"},"C1584757257857":{"name":"新人优惠券立减5元","desc":"满39元可用","price":"￥5","couponid":"19","background":"#ff9140","bordercolor":"#ff9140","textcolor":"#ffffff","couponcolor":"#ff5555"},"C1584757257858":{"name":"测试收银台优惠券","price":"￥30","couponid":"22","background":"#54b5fd","bordercolor":"#54b5fd","textcolor":"#ffffff","couponcolor":"#ff913f"}},"id":"coupon"},"M1584757277511":{"style":{"background":"#ffffff","color":"#666666","activebackground":"#ffffff","activecolor":"#ef4f4f","scrollnum":"5","showtype":"1"},"params":{"datatype":""},"data":{"C1584757277511":{"text":"选项1","linkurl":"category=33"},"C1584757277512":{"text":"选项2","linkurl":"category=36"},"C1584757277513":{"text":"选项3","linkurl":"category=38"},"C1584757277515":{"text":"选项4","linkurl":"category=39"}},"id":"tabbar"},"M1584757302474":{"style":{"paddingtop":"0","paddingleft":"0"},"data":{"C1584757302474":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/banner-1.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=dividend"}},"id":"video"},"M1584756960010":{"params":{"goodstype":"0","showtitle":"1","showprice":"1","showtag":"0","goodsdata":"0","cateid":"","catename":"","groupid":"","groupname":"","goodssort":"0","goodsnum":"6","showicon":"1","iconposition":"left top","productprice":"1","showproductprice":"0","showsales":"0","productpricetext":"原价","salestext":"销量","productpriceline":"0","saleout":"0","pagetype":"2","seecommission":"0","cansee":"0","seetitle":""},"style":{"background":"#f3f3f3","liststyle":"block","buystyle":"buybtn-1","goodsicon":"recommand","iconstyle":"triangle","pricecolor":"#ff5555","productpricecolor":"#999999","iconpaddingtop":"0","iconpaddingleft":"0","buybtncolor":"#ff5555","iconzoom":"100","titlecolor":"#000000","tagbackground":"#fe5455","salescolor":"#999999"},"data":{"C5950786175":{"thumb":"images/3/2019/11/x0B9XyBCG3x9j9ogUbOXxOyoGu305u.jpg","title":"橘子","subtitle":"测试橘子","price":200,"gid":"74","total":"533333300","bargain":"0","productprice":200,"credit":null,"ctype":"1","gtype":null,"seecommission":0,"cansee":"1","seetitle":"可获得佣金","sales":30},"C4503168244":{"thumb":"images/3/2019/11/S5fK7hGLdotQTtFb2TKb5QhLq55llQ.jpg","title":"新鲜西瓜","subtitle":"西瓜","price":10,"gid":"67","total":"2222221","bargain":"0","productprice":"100.00","credit":null,"ctype":"5","gtype":null,"seecommission":0,"cansee":"1","seetitle":"可获得佣金","sales":1},"C6167336805":{"thumb":"images/3/2019/10/s24vVF620FIIo0EOIFeY2RKCt1m4My0R.jpg","title":"MAXRIENY2019夏季新款很仙的蕾丝短袖上衣女荷叶边气质复古衫修身","subtitle":"","price":1089,"gid":"68","total":"9999","bargain":"0","productprice":1089,"credit":null,"ctype":"1","gtype":null,"seecommission":0,"cansee":"1","seetitle":"可获得佣金","sales":1},"C3592802461":{"thumb":"images/3/2019/11/X5LT9p5jxLl2615in6JJs22ly565z6.jpg","title":"红枣","subtitle":"测试红枣","price":12,"gid":"69","total":"100","bargain":"0","productprice":"200.00","credit":null,"ctype":"1","gtype":null,"seecommission":0,"cansee":"1","seetitle":"可获得佣金","sales":29}},"id":"goods"}}}}';
        $this->post();
        $this->route();
    }

    public function testPageSysdelete(): void
    {
        $_GET['r'] = 'diypage.page.sys.delete';
        $_GET['id'] = 1;
        $this->route();
    }

    //模版
    public function testPageSysSavetemp(): void
    {
        $_GET['r'] = 'diypage.page.sys.savetemp';
        $_POST['jsonData'] = '{"type":"2","cate":"3","name":"未命名模板","preview":"123","data":{"page":{"type":"2","title":"测试首页标题","name":"测试商城首页","desc":"介绍","icon":"images/3/2020/02/jE157z5U71VKplL1Lw1ohE1ktElPeL.jpg","keyword":"关键字","background":"#f3f3f3","diymenu":"1","diylayer":"1","diygotop":"1","followbar":"1","visit":"0","visitlevel":{"member":"","commission":""},"novisit":{"title":"","link":""},"diyadv":"2","danmu":"1"},"items":{"M1584756927219":{"istop":"1","max":"1","only":"toptab","params":{"leftnav":"1","rightnav":"1","rightnavclick":"0","leftnavicon":"icon-shop","rightnavicon":"icon-cart","searchstyle":"round","placeholder":"输入关键字进行搜索","leftnavlink":"./index.php?i=1&c=entry&m=ewei_shopv2&do=mobile&r=member.recharge","rightnavlink":"./index.php?i=1&c=entry&m=ewei_shopv2&do=mobile&r=creditshop"},"style":{"background":"#000000","opacity":"0.8","opacityinput":"0.8","leftnavcolor":"#ffffff","rightnavcolor":"#ffffff","searchbackground":"#ffffff","searchtextcolor":"#666666"},"id":"fixedsearch"},"M1584756953003":{"params":{"iconurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/hotdot.png","noticedata":"0","speed":"4","noticenum":"5"},"style":{"background":"#ffffff","iconcolor":"#fd5454","color":"#666666","bordercolor":"#e2e2e2"},"data":{"C1584756953003":{"title":"这里是第一条自定义公告的标题","linkurl":""},"C1584756953004":{"title":"这里是第二条自定义公告的标题","linkurl":""}},"id":"notice"},"M1584756922537":{"params":{"placeholder":"请输入关键字进行搜索"},"style":{"inputbackground":"#ffffff","background":"#f1f1f2","iconcolor":"#b4b4b4","color":"#999999","paddingtop":"10","paddingleft":"10","textalign":"left","searchstyle":""},"id":"search"},"M1584756991173":{"params":{"merchdata":"0","merchnum":"6","merchsort":"","catename":"","cateid":"","groupname":"","groupid":"","openlocation":"0"},"style":{"background":"#ffffff","titlecolor":"#333333","textcolor":"#666666","rangecolor":"#ff5555","locationcolor":"#ff5555","margintop":"10"},"data":{"C7584478684":{"name":"pine测试","desc":"123123123","thumb":"images/3/2019/12/qbzDvaBd1vxa1Ja88sCj1akbdV4j4v.jpg","merchid":"8"},"C8827545194":{"name":"一道宝商家","desc":"","thumb":"","merchid":"3"}},"id":"merchgroup"},"M1584757087092":{"max":"1","params":{"iconurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/seckill.png","hideborder":"0","tag":""},"style":{"margintop":"10","background":"#ffffff","titlecolor":"#444444","timecolor":"#444444","timesigncolor":"#444444","timebgcolor":"#ffffff","timebordercolor":"#d9d9d9","morecolor":"#888888","marketpricecolor":"#ef4f4f","productpricecolor":"#999999"},"id":"seckillgroup"},"M1584757095475":{"params":{"modid":"2","modname":"未命名模块"},"id":"diymod"},"M1584757100816":{"style":{"margintop":"10","background":"#ffffff","iconcolor":"#999999","textcolor":"#000000","remarkcolor":"#888888"},"data":{"C1584757100816":{"text":"导航1","linkurl":"www.baidu.com","iconclass":"icon-home","remark":"查看","dotnum":""},"C1584757100817":{"text":"导航2","linkurl":"www.qq.com","iconclass":"icon-home","remark":"查看","dotnum":""}},"id":"listmenu"},"M1584757131564":{"params":{"content":"PHA+5a+M5paH5pysPC9wPg=="},"style":{"background":"#ffffff","padding":"5"},"id":"richtext"},"M1584757146131":{"params":{"title":"","icon":""},"style":{"background":"#ffffff","color":"#666666","textalign":"left","fontsize":"12","paddingtop":"5","paddingleft":"5"},"id":"title"},"M1584757149225":{"style":{"height":"2","background":"#ffffff","border":"#000000","padding":"10","linestyle":"solid"},"id":"line"},"M1584757150958":{"style":{"height":"20","background":"#ffffff"},"id":"blank"},"M1584757152386":{"style":{"navstyle":"","background":"#ffffff","rownum":"4","showtype":"0","pagenum":"8","showdot":"1"},"data":{"C1584757152386":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/icon-1.png","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile","text":"按钮文字1","color":"#666666"},"C1584757152387":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/icon-2.png","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=shop.category","text":"按钮文字2","color":"#666666"},"C1584757152388":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/icon-3.png","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=abonus","text":"按钮文字3","color":"#666666"},"C1584757152389":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/icon-4.png","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=dividend","text":"按钮文字4","color":"#666666"}},"id":"menu"},"M1584757174425":{"style":{"margintop":"10","background":"#ffffff"},"data":{"C1584757174425":{"text":"我的积分","iconclass":"","textcolor":"#666666","iconcolor":"#666666","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=exchange&codetype=1&all=1"},"C1584757174426":{"text":"兑换记录","iconclass":"","textcolor":"#666666","iconcolor":"#666666","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=goods&issendfree=1"}},"id":"menu2"},"M1584757185844":{"style":{"paddingtop":"0","paddingleft":"0"},"data":{"C1584757185844":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/banner-1.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=dividend"},"C1584757185845":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/banner-2.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=member.fullback"}},"id":"picture"},"M1584757196825":{"style":{"dotstyle":"round","dotalign":"left","background":"#ffffff","leftright":"5","bottom":"5","opacity":"0.8"},"data":{"C1584757196825":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/banner-1.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=goods&istime=1"},"C1584757196826":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/banner-2.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=goods&issendfree=1"}},"id":"banner"},"M1584757205329":{"params":{"row":"4","showtype":"0","pagenum":"2"},"style":{"paddingtop":"0","paddingleft":"0","showdot":"0","showbtn":"0"},"data":{"C1584757205329":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/cube-1.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=cycelbuy.order.list"},"C1584757205330":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/cube-2.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=cycelbuy.order.list"}},"id":"picturew"},"M1584757219068":{"params":{"hidetext":"0","showtype":"0","rownum":"3","showbtn":"0"},"style":{"background":"#ffffff","paddingtop":"3","paddingleft":"5","titlealign":"left","textalign":"left","titlecolor":"#ffffff","textcolor":"#666666"},"data":{"C1584757219068":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/goods-1.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=abonus","title":"这里是上标题","text":"这里是下标题"},"C1584757219069":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/goods-2.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=member.history","title":"这里是上标题","text":"这里是下标题"},"C1584757219070":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/goods-4.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=member.recharge","title":"这里是上标题","text":"这里是下标题"}},"id":"pictures"},"M1584757230036":{"params":{"rownum":"4","border":"1","bordertop":"1","borderbottom":"1"},"style":{"background":"#ffffff","bordercolor":"#ffffff","textcolor":"#000000","iconcolor":"#666666","dotcolor":"#ff0011"},"data":{"C1584757230036":{"iconclass":"icon-daifukuan","text":"待付款","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=abonus","dotnum":"0"},"C1584757230037":{"iconclass":"icon-fahuo","text":"待发货","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=exchange&codetype=1&all=1","dotnum":"0"},"C1584757230038":{"iconclass":"icon-daishouhuo","text":"待收货","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=exchange&codetype=1&all=1","dotnum":"0"},"C1584757230039":{"iconclass":"icon-daituikuan","text":"退换货","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=member.cart","dotnum":"0"}},"id":"icongroup"},"M1584757248418":{"params":{"title":"未定义音频信息","subtitle":"副标题","playerstyle":"0","autoplay":"0","loopplay":"0","pausestop":"0","headalign":"left","headtype":"","headurl":""},"style":{"background":"#f1f1f1","bordercolor":"#ededed","textcolor":"#333333","subtitlecolor":"#666666","timecolor":"#666666","paddingtop":"20","paddingleft":"20","width":"80"},"id":"audio"},"M1584757257856":{"params":{"couponstyle":"3"},"style":{"background":"#ffffff","margintop":"10","marginleft":"5"},"data":{"C1584757257856":{"name":"新人券立减3元","desc":"无门槛使用","price":"￥3","couponid":"16","background":"#fd5454","bordercolor":"#fd5454","textcolor":"#ffffff","couponcolor":"#55b5ff"},"C1584757257857":{"name":"新人优惠券立减5元","desc":"满39元可用","price":"￥5","couponid":"19","background":"#ff9140","bordercolor":"#ff9140","textcolor":"#ffffff","couponcolor":"#ff5555"},"C1584757257858":{"name":"测试收银台优惠券","price":"￥30","couponid":"22","background":"#54b5fd","bordercolor":"#54b5fd","textcolor":"#ffffff","couponcolor":"#ff913f"}},"id":"coupon"},"M1584757277511":{"style":{"background":"#ffffff","color":"#666666","activebackground":"#ffffff","activecolor":"#ef4f4f","scrollnum":"5","showtype":"1"},"params":{"datatype":""},"data":{"C1584757277511":{"text":"选项1","linkurl":"category=33"},"C1584757277512":{"text":"选项2","linkurl":"category=36"},"C1584757277513":{"text":"选项3","linkurl":"category=38"},"C1584757277515":{"text":"选项4","linkurl":"category=39"}},"id":"tabbar"},"M1584757302474":{"style":{"paddingtop":"0","paddingleft":"0"},"data":{"C1584757302474":{"imgurl":"../addons/ewei_shopv2/plugin/diypage/static/images/default/banner-1.jpg","linkurl":"./index.php?i=3&c=entry&m=ewei_shopv2&do=mobile&r=dividend"}},"id":"video"},"M1584756960010":{"params":{"goodstype":"0","showtitle":"1","showprice":"1","showtag":"0","goodsdata":"0","cateid":"","catename":"","groupid":"","groupname":"","goodssort":"0","goodsnum":"6","showicon":"1","iconposition":"left top","productprice":"1","showproductprice":"0","showsales":"0","productpricetext":"原价","salestext":"销量","productpriceline":"0","saleout":"0","pagetype":"2","seecommission":"0","cansee":"0","seetitle":""},"style":{"background":"#f3f3f3","liststyle":"block","buystyle":"buybtn-1","goodsicon":"recommand","iconstyle":"triangle","pricecolor":"#ff5555","productpricecolor":"#999999","iconpaddingtop":"0","iconpaddingleft":"0","buybtncolor":"#ff5555","iconzoom":"100","titlecolor":"#000000","tagbackground":"#fe5455","salescolor":"#999999"},"data":{"C2363276620":{"thumb":"images/3/2019/11/x0B9XyBCG3x9j9ogUbOXxOyoGu305u.jpg","title":"橘子","subtitle":"测试橘子","price":200,"gid":"74","total":"533333300","bargain":"0","productprice":200,"credit":null,"ctype":"1","gtype":null,"seecommission":0,"cansee":"1","seetitle":"可获得佣金","sales":30},"C8549508413":{"thumb":"images/3/2019/11/S5fK7hGLdotQTtFb2TKb5QhLq55llQ.jpg","title":"新鲜西瓜","subtitle":"西瓜","price":10,"gid":"67","total":"2222221","bargain":"0","productprice":"100.00","credit":null,"ctype":"5","gtype":null,"seecommission":0,"cansee":"1","seetitle":"可获得佣金","sales":1},"C5656681292":{"thumb":"images/3/2019/10/s24vVF620FIIo0EOIFeY2RKCt1m4My0R.jpg","title":"MAXRIENY2019夏季新款很仙的蕾丝短袖上衣女荷叶边气质复古衫修身","subtitle":"","price":1089,"gid":"68","total":"9999","bargain":"0","productprice":1089,"credit":null,"ctype":"1","gtype":null,"seecommission":0,"cansee":"1","seetitle":"可获得佣金","sales":1},"C8158144780":{"thumb":"images/3/2019/11/X5LT9p5jxLl2615in6JJs22ly565z6.jpg","title":"红枣","subtitle":"测试红枣","price":12,"gid":"69","total":"100","bargain":"0","productprice":"200.00","credit":null,"ctype":"1","gtype":null,"seecommission":0,"cansee":"1","seetitle":"可获得佣金","sales":29},"C5619851437":{"thumb":"images/3/2019/11/EWbQrZ36fqRw5LzXBLFfnqC55bJBWF.jpg","title":"小幸运樱桃","subtitle":"小樱桃","price":10,"gid":"71","total":"400","bargain":"0","productprice":"300.00","credit":null,"ctype":"1","gtype":null,"seecommission":0,"cansee":"1","seetitle":"可获得佣金","sales":9},"C4290201984":{"thumb":"images/3/2019/11/oMhMjFKmq9bRSBjGjZhbTL951BqLBj.jpg","title":"红富士苹果","subtitle":"现摘的红富士苹果清脆香甜","price":388,"gid":"75","total":"4000","bargain":"0","productprice":588,"credit":null,"ctype":"1","gtype":null,"seecommission":0,"cansee":"1","seetitle":"可获得佣金","sales":0}},"id":"goods"}}}}';
        $this->post();
        $this->route();
    }



}